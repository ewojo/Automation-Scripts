#Dont want to wait for Lifecycle policies? 
#Run Command to Remove Files Based on date.
#This command uses the AWS S3 API to list all objects in a specified bucket that have a LastModified date earlier than September 1, 2018, and then deletes those objects. The command includes several parameters:

list-objects-v2: this is the S3 API command to list all objects in a specified bucket.
--bucket <BucketName>: this specifies the name of the bucket from which you want to delete the objects.
--output json: this specifies that the output of the command should be in JSON format.
--query 'Contents[?LastModified<=2018-09-01].[Key]': this query filters the list of objects to only those that have a LastModified date earlier than September 1, 2018, and returns only the Key (i.e. the object's file name) for each object.
--region <region>: this specifies the region in which the bucket is located.
jq -r '.[] | "--key " + .[0]': this command uses the jq tool to parse the JSON output and format it as a string that can be used as input for the next command.
xargs -L1 aws s3api delete-object --bucket <bucketname> --region <region>: this command uses the xargs tool to execute the AWS S3 API command to delete each object, one at a time, using the filtered list of object keys generated by the previous command.
Please be careful using this command as it will delete files from S3 Bucket and these files will be lost forever.

aws s3api list-objects-v2 --bucket <BucketName> --output json --query 'Contents[?LastModified<=`2018-09-01`].[Key]' --region <region> | jq -r '.[] | "--key " + .[0]' | xargs -L1 aws s3api delete-object --bucket <bucketname> --region <region>
